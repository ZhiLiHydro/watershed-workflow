<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data Sources &mdash; Watershed Workflow 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Documentation" href="api.html" />
    <link rel="prev" title="Watershed Workflow scripts" href="scripts.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Watershed Workflow
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/mesh_coweeta.html">Example: mesh a delineated watershed</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Scripts</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data Sources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#source-list">Source List</a></li>
<li class="toctree-l2"><a class="reference internal" href="#watershed-boundaries-and-hydrography">Watershed boundaries and hydrography</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#usgs-national-hydrography-and-water-boundary-datasets-nhd-wbd">USGS National Hydrography and Water Boundary Datasets (NHD / WBD)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#digital-elevation-models">Digital Elevation Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#national-elevation-dataset">National Elevation Dataset</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#land-cover">Land Cover</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#national-land-cover-dataset">National Land Cover Dataset</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#soil-structure-and-properties">Soil structure and properties</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#national-resources-conservation-service-soils">National Resources Conservation Service Soils</a></li>
<li class="toctree-l3"><a class="reference internal" href="#meteorology">Meteorology</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#daymet">Daymet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generic-files">Generic Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#generic-rasters">Generic rasters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generic-shapefiles">Generic shapefiles</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html">Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Watershed Workflow</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Data Sources</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/sources.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="data-sources">
<h1>Data Sources<a class="headerlink" href="#data-sources" title="Permalink to this headline"></a></h1>
<p>Watershed Workflow stores a library of managers, which provide
functionality to access data as if it was local.  Given appropriate
bounds (spatial and/or temporal), the managers typically use REST-APIs
or other web-based services to locate, download, unzip, and file
datasets, which are then stored indefinitely for future use.  These
datasets are stored in a local data store whose location is specified
in the <span class="xref std std-ref">Package configuration</span> file.</p>
<p>The following sections lay out the source list, which is simply a way
of getting and working with default sources, and the broad classes of
sources frequently used in workflows, and default values for these
types of data are provide by existing managers.</p>
<div class="section" id="source-list">
<h2>Source List<a class="headerlink" href="#source-list" title="Permalink to this headline"></a></h2>
<p>Implementing a new data source for an existing type of data should
follow the API for existing implementations.  This makes it easy to
use it with the existing high level API.  See the
<span class="xref std std-ref">Sources API</span> for how managers are used within the API.</p>
</div>
<div class="section" id="watershed-boundaries-and-hydrography">
<h2>Watershed boundaries and hydrography<a class="headerlink" href="#watershed-boundaries-and-hydrography" title="Permalink to this headline"></a></h2>
<p>Watershed boundary datasets and hydrography datasets together form the
geographic structure of a watershed.  Watershed boundary datasets are
typically formed through analysis of elevation datasets, collecting
within the same watershed all parts of the land surface which drain to
a common river outlet.  Watersheds are hierarchical, ranging in scale
from small primary watersheds which drain into first order streams to
full river basins which drain into an ocean.  In the United States,
the USGS formally calculates hydrologic units and identifies them
using Hydrologic Unit Codes, or HUCs, which respect this hierarchy.
HUC 2 regions (e.g. the Upper Colorado River or the Tennessee River
Basin) are the largest in areal extent, while HUC 12s, or
sub-watersheds, are the smallest, representing on the order of 100
square kilometers.  Watershed Workflow uses HUCs as an organizing unit
for working with data, primarily because most datasets in the US are
organized by the HUC, but also because they form physically useful
domains for simulation.</p>
<p>Hydrography datasets provide surveys of river networks, which form the
drainage network of watersheds and are where most of the fast-time
scale dynamics occur.  Some hydrologic models (for instance river
routing models, dam operations management models, and many flood
models) directly use the river network as their simulation domain,
while others (for instance the class of integrated, distributed models
described here) can use the river network to refine meshes near the
rivers and therefore improve resolution where fast dynamics are
occuring.  Watershed boundary and Hydrography datasets are typically
available as GIS shapefiles, where each watershed boundary or reach is
represented as a shape.</p>
<p>Currently two ways of getting watershed boundaries are supported –
USGS HUC delineations and user-provided shape files.  Watershed
boundaries read from shapefiles can use the <span class="xref std std-ref">Generic shapefiles</span>
manager.</p>
<div class="section" id="usgs-national-hydrography-and-water-boundary-datasets-nhd-wbd">
<h3>USGS National Hydrography and Water Boundary Datasets (NHD / WBD)<a class="headerlink" href="#usgs-national-hydrography-and-water-boundary-datasets-nhd-wbd" title="Permalink to this headline"></a></h3>
</div>
</div>
<div class="section" id="digital-elevation-models">
<h2>Digital Elevation Models<a class="headerlink" href="#digital-elevation-models" title="Permalink to this headline"></a></h2>
<p>For any distributed, integrated hydrologic model, elevation datasets
are critical.  These set the local spatial gradients that drive flow
in Richards and overload flow equations, and are necessary to form a
mesh, whether structured or unstructured, for simulation.  Elevation
datasets are typically stored as raster images.</p>
<p>Then workflows can query the raster for interpolated elevations at
points on a mesh, river, or other locations of interest.  Internally,
affine coordinate system transformations are hidden; the coordinate
system of the requested points are mapped to that of the raster and
interpolated.  By default, piecewise bilinear interpolation is used to
ensure that extremely high-resolution queries do not look
stairstepped; this improves mesh quality in meshes near the resolution
of the underlying elevation dataset.</p>
<div class="section" id="national-elevation-dataset">
<h3>National Elevation Dataset<a class="headerlink" href="#national-elevation-dataset" title="Permalink to this headline"></a></h3>
</div>
</div>
<div class="section" id="land-cover">
<h2>Land Cover<a class="headerlink" href="#land-cover" title="Permalink to this headline"></a></h2>
<p>Land cover datasets set everything from impervious surfaces to plant
function and therefore evaportranspiration, and are used in some
integrated hydrologic models for a wide range of processes.  Land
cover is used to define a collection of indices on which mesh sets are
generated and then used to generate and affect processes and process
parameters.</p>
<div class="section" id="national-land-cover-dataset">
<h3>National Land Cover Dataset<a class="headerlink" href="#national-land-cover-dataset" title="Permalink to this headline"></a></h3>
</div>
</div>
<div class="section" id="soil-structure-and-properties">
<h2>Soil structure and properties<a class="headerlink" href="#soil-structure-and-properties" title="Permalink to this headline"></a></h2>
<p>Soil structure and hydrologic properties (i.e. porosity, permeability,
water retention curves) are often derived from texture
parameterizations.  Similarly, depth to bedrock and other subsurface
data can be essential in these types of simulations.  Often these are
mapped into the simulation mesh.</p>
<div class="section" id="national-resources-conservation-service-soils">
<h3>National Resources Conservation Service Soils<a class="headerlink" href="#national-resources-conservation-service-soils" title="Permalink to this headline"></a></h3>
</div>
<div class="section" id="meteorology">
<h3>Meteorology<a class="headerlink" href="#meteorology" title="Permalink to this headline"></a></h3>
<p>Meteorology datasets are a work in progress.  Different codes likely
need to write met data in very different formats, and may need
different variables, so met data is necessarily less standardized.</p>
<p>Currently we provide some preliminary capability here, but more is
both on the way and needs more input to develop community consensus.</p>
</div>
</div>
<div class="section" id="daymet">
<h2>Daymet<a class="headerlink" href="#daymet" title="Permalink to this headline"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>This is in progress and not complete.</strong> Not all
documentation may be correct, and it is definitely a moving
target.  Buyer beware!</p>
</div>
</div>
<div class="section" id="generic-files">
<h2>Generic Files<a class="headerlink" href="#generic-files" title="Permalink to this headline"></a></h2>
<p>We also provide readers for user-provided rasters and shapefiles for
generic use.</p>
<div class="section" id="generic-rasters">
<h3>Generic rasters<a class="headerlink" href="#generic-rasters" title="Permalink to this headline"></a></h3>
</div>
<div class="section" id="generic-shapefiles">
<h3>Generic shapefiles<a class="headerlink" href="#generic-shapefiles" title="Permalink to this headline"></a></h3>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="scripts.html" class="btn btn-neutral float-left" title="Watershed Workflow scripts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api.html" class="btn btn-neutral float-right" title="API Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-202X, UT Battelle, Ethan Coon.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>